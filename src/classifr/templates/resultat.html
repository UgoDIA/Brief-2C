{% extends 'base.html' %}

{% load static %}

{% block content %}

<div class="container" style="padding:30px" >
    
<h1 style = "text-align : center";>Classification </h1>
<h2 style = "text-align : center;color: white;margin:10px;margin-top:20px">{{label}} {{precision}} %</h2>
{%with path as image %}
<img src="{% static image %}" style="max-height: 500px; max-width: 500px;display: block;margin-left: auto;margin-right: auto;" >
{% endwith %}

<div class="row m-2" >
    <a href="{% url 'upload' %}" class="col-sm mx-5 button-l " role="button" style="margin:20px" >Faire une nouvelle classification</a>
    <button class="col-sm mx-5 button-l " type="button" role="button" onclick="openPopup()" style="margin:20px" >Signaler une erreur
      <img src="{%static 'images/flag.png'%}"style="max-height: 30px; max-width: 30px;">
    </button>
  </div>


<div class="popup" id='popup' data-backdrop="static">
  <button type="button" style="position:absolute;top:0px;right:0px" class="btn-close" onclick="closePopup()" aria-label="Close"></button>
<h1>Classe correcte :</h2>
  <form action="" method="post">
    {% csrf_token %}
    <label for="classec"></label>
    <select class="form-select" list="datalistOptions" style='font-size: 20px;;text-align:center;border: 3px solid grey;' id="classec" name="classec">
      {% for food in food_list%}
    <option>{{food}}</option>
    {%endfor%} 
    </select>
    <input class="btn btn-dark" style="font-size:20px;margin-top: 4%" type="submit" value="Valider">
</form>
</div>

</div>
<script>
  let popup = document.getElementById("popup");
  function openPopup(){
    popup.classList.add("open-popup")
  }
  function closePopup(){
    popup.classList.remove("open-popup")
  }
</script>

{% endblock %}